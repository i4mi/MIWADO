 <ion-header>
  <ion-navbar [hideBackButton]="hideBackButton" class="navbar-content">
    <ion-title>{{ pat.displayName }}</ion-title>
    <ion-buttons end>
      <button (click)="openSettings()" ion-button icon-only>
        <ion-icon name="settings"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding class="messages-page-content messages" #messageWindow>
    <div *ngFor="let message of messages" class="day-wrapper" (click)="addToCalendar(message, message.payload[0])" >
        <div [class]="'message message-' + message.ownership">
          <div class="message-sendername">{{message.sender.display}}</div>
          <div class="message-content message-content-text">{{message.payload[0]}}</div>
          <span class="message-timestamp">{{ message.sent }}</span>
      </div>
    </div>
  <!--<ion-infinite-scroll (ionInfinite)="doInfinite($event)">
    <ion-infinite-scroll-content loadingSpinner="bubbles"></ion-infinite-scroll-content>
  </ion-infinite-scroll>-->
</ion-content>

<ion-footer>
  <div class="messages-page-footer">
    <div #cancelationPatient>
      <cancelationPatient id="cancelationPatient" hidden></cancelationPatient>
    </div>
    <div #confirmation>
      <confirmation id="confirmation" hidden></confirmation>
    </div>
    <div #newAppointment>
      <newAppointment id="newAppointment" hidden></newAppointment>
    </div>
    <div #patientCancelationNewDate>
      <patientCancelationNewDate id="patientCancelationNewDate" hidden></patientCancelationNewDate>
    </div>
    <div #patientCancelationWillCall>
      <patientCancelationWillCall id="patientCancelationWillCall" hidden></patientCancelationWillCall>
    </div>
    <div #reminder>
      <reminder id="reminder" hidden></reminder>
    </div>
    <div #changeBackoffice>
      <changeBackoffice id="changeBackoffice" hidden></changeBackoffice>
    </div>
  </div>

  <ion-label>{{ lang.commThread_Button_Choose_MessageType }}</ion-label>
  <ion-row class="message-item-wrapper">
    <ion-item class="message-editor">
      <ion-label class="label-message-popUp">{{ lang.commThread_Choose_Message_PopUp }}</ion-label>
      <ion-select class="message-select-typ" [(ngModel)]="TextBlock" (ionChange)="optionsTextBlock()">
        <ion-option [value]="item" *ngFor="let item of options">{{item.name}}</ion-option>
      </ion-select>
    </ion-item>
    <button ion-button icon-only class="message-send-button" (click)="storeCommRes()" ass="message-editor-button">
      <ion-icon name="send"></ion-icon>
    </button>
  </ion-row>
</ion-footer>
